{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/xlugx/work/project-crm/client/src/components/leads/Leads.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useCallback } from 'react';\nimport { statuses } from '../../constants';\nimport { useRequest } from '../../hooks/request.hook';\nimport { useHistory } from 'react-router-dom';\nimport Layout from '../layout/Layout';\nimport Loader from '../loader/Loader';\nimport s from './leads.module.css';\n\nconst Leads = () => {\n  _s();\n\n  const [leads, setLeads] = useState([]),\n        [fetching, setFetching] = useState(false),\n        {\n    request\n  } = useRequest(),\n        history = useHistory();\n  const getLeads = useCallback(async () => {\n    setFetching(true);\n    const {\n      res\n    } = await request('/api/leads');\n    setFetching(false);\n    res && setLeads(res);\n  }, [request, leads, setLeads]);\n  const handleOpenLead = useCallback(id => {\n    history.push(`/leads/${id}`);\n  }, []);\n  useEffect(() => {\n    getLeads();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u041B\\u0438\\u0434\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.board,\n      children: [fetching && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 26\n      }, this), !fetching && statuses.map(({\n        value,\n        title\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.list,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.title,\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this), leads === null || leads === void 0 ? void 0 : leads.filter(({\n          status\n        }) => status === value).map(({\n          _id: id,\n          name,\n          phone\n        }) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.card,\n            onClick: () => handleOpenLead(id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 25\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 28\n          }, this);\n        })]\n      }, value, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 62\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Leads, \"yz8ObKeCwvl5bbZY8QXVWSJFQHo=\", false, function () {\n  return [useRequest, useHistory];\n});\n\n_c = Leads;\nexport default Leads;\n\nvar _c;\n\n$RefreshReg$(_c, \"Leads\");","map":{"version":3,"sources":["/home/xlugx/work/project-crm/client/src/components/leads/Leads.jsx"],"names":["useEffect","useState","useCallback","statuses","useRequest","useHistory","Layout","Loader","s","Leads","leads","setLeads","fetching","setFetching","request","history","getLeads","res","handleOpenLead","id","push","board","map","value","title","list","filter","status","_id","name","phone","card"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,WAA9B,QAAiD,OAAjD;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,CAAP,MAAc,oBAAd;;AAGA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAChB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AAAA,QACI,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,KAAD,CADtC;AAAA,QAEI;AAAEa,IAAAA;AAAF,MAAcV,UAAU,EAF5B;AAAA,QAGIW,OAAO,GAAGV,UAAU,EAHxB;AAKA,QAAMW,QAAQ,GAAGd,WAAW,CAAC,YAAY;AACrCW,IAAAA,WAAW,CAAC,IAAD,CAAX;AAEA,UAAM;AAAEI,MAAAA;AAAF,QAAU,MAAMH,OAAO,CAAC,YAAD,CAA7B;AAEAD,IAAAA,WAAW,CAAC,KAAD,CAAX;AAEAI,IAAAA,GAAG,IAAIN,QAAQ,CAACM,GAAD,CAAf;AACH,GAR2B,EAQzB,CAACH,OAAD,EAAUJ,KAAV,EAAiBC,QAAjB,CARyB,CAA5B;AAUA,QAAMO,cAAc,GAAGhB,WAAW,CAACiB,EAAE,IAAI;AACrCJ,IAAAA,OAAO,CAACK,IAAR,CAAc,UAASD,EAAG,EAA1B;AACH,GAFiC,EAE/B,EAF+B,CAAlC;AAIAnB,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,QAAQ;AACX,GAFQ,EAEN,EAFM,CAAT;AAIA,sBAAO,QAAC,MAAD;AAAA,4BACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADG,eAEH;AAAK,MAAA,SAAS,EAAER,CAAC,CAACa,KAAlB;AAAA,iBACKT,QAAQ,iBAAI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADjB,EAGK,CAACA,QAAD,IAAaT,QAAQ,CAACmB,GAAT,CAAa,CAAC;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAAD,kBAAsB;AAAK,QAAA,SAAS,EAAEhB,CAAC,CAACiB,IAAlB;AAAA,gCAC7C;AAAK,UAAA,SAAS,EAAEjB,CAAC,CAACgB,KAAlB;AAAA,oBACKA;AADL;AAAA;AAAA;AAAA;AAAA,gBAD6C,EAK5Cd,KAL4C,aAK5CA,KAL4C,uBAK5CA,KAAK,CAAEgB,MAAP,CAAc,CAAC;AAAEC,UAAAA;AAAF,SAAD,KAAgBA,MAAM,KAAKJ,KAAzC,EAAgDD,GAAhD,CAAoD,CAAC;AAAEM,UAAAA,GAAG,EAAET,EAAP;AAAWU,UAAAA,IAAX;AAAiBC,UAAAA;AAAjB,SAAD,KAA8B;AAC/E,8BAAO;AAAc,YAAA,SAAS,EAAEtB,CAAC,CAACuB,IAA3B;AAAiC,YAAA,OAAO,EAAE,MAAMb,cAAc,CAACC,EAAD,CAA9D;AAAA,oCACH;AAAA,wBAAMU;AAAN;AAAA;AAAA;AAAA;AAAA,oBADG,eAEH;AAAA,wBAAMC;AAAN;AAAA;AAAA;AAAA;AAAA,oBAFG;AAAA,aAAUX,EAAV;AAAA;AAAA;AAAA;AAAA,kBAAP;AAIH,SALA,CAL4C;AAAA,SAA6BI,KAA7B;AAAA;AAAA;AAAA;AAAA,cAAnC,CAHlB;AAAA;AAAA;AAAA;AAAA;AAAA,YAFG;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAqBH,CA7CD;;GAAMd,K;UAGgBL,U,EACJC,U;;;KAJZI,K;AA+CN,eAAeA,KAAf","sourcesContent":["import { useEffect, useState, useCallback } from 'react';\nimport { statuses } from '../../constants';\nimport { useRequest } from '../../hooks/request.hook';\nimport { useHistory } from 'react-router-dom';\nimport Layout from '../layout/Layout';\nimport Loader from '../loader/Loader';\nimport s from './leads.module.css';\n\n\nconst Leads = () => {\n    const [leads, setLeads] = useState([]),\n        [fetching, setFetching] = useState(false),\n        { request } = useRequest(),\n        history = useHistory();\n\n    const getLeads = useCallback(async () => {\n        setFetching(true);\n\n        const { res } = await request('/api/leads');\n\n        setFetching(false);\n\n        res && setLeads(res);\n    }, [request, leads, setLeads]);\n\n    const handleOpenLead = useCallback(id => {\n        history.push(`/leads/${id}`);\n    }, []);\n\n    useEffect(() => {\n        getLeads();\n    }, []);\n\n    return <Layout>\n        <h3>Лиды</h3>\n        <div className={s.board}>\n            {fetching && <Loader />}\n\n            {!fetching && statuses.map(({ value, title }) => <div className={s.list} key={value}>\n                <div className={s.title}>\n                    {title}\n                </div>\n\n                {leads?.filter(({ status }) => status === value).map(({ _id: id, name, phone }) => {\n                    return <div key={id} className={s.card} onClick={() => handleOpenLead(id)}>\n                        <div>{name}</div>\n                        <div>{phone}</div>\n                    </div>\n                })}\n                </div>\n            )}\n\n        </div>\n    </Layout>;\n};\n\nexport default Leads;\n"]},"metadata":{},"sourceType":"module"}